{"ast":null,"code":"import ShipImg from '../../Assets/ShipImg/ship.png';\nimport { SFX } from \"../SFX\";\nexport class Ship {\n  constructor(_ref) {\n    let {\n      getOverlappingBullet,\n      getOverlappingAliens,\n      removeBullet\n    } = _ref;\n\n    this.setX = x => {\n      this.x = x;\n      this.el.style.left = `${x}px`;\n    };\n\n    this.setY = y => {\n      this.y = y;\n      this.el.style.top = `${y}px`;\n    };\n\n    this.moveRight = () => {\n      if (!this.isAlive) return;\n      this.setX(this.x + this.speed);\n    };\n\n    this.moveLeft = () => {\n      if (!this.isAlive) return;\n      this.setX(this.x - this.speed);\n    };\n\n    this.fire = _ref2 => {\n      let {\n        creatBullet\n      } = _ref2;\n\n      if (this.canFire && this.isAlive) {\n        this.canFire = false;\n        creatBullet({\n          x: this.x + 43,\n          y: this.y,\n          nomDeClassCSS: \"bullet\"\n        });\n        this.sfx.fireAudioFonction();\n        setTimeout(() => {\n          this.canFire = true;\n        }, 500);\n      }\n    };\n\n    this.shipUpdate = () => {\n      const bulletHit = this.getOverlappingBullet(this);\n      const alienHit = this.getOverlappingBullet(this);\n\n      if (bulletHit && bulletHit.isAlien && this.isAlive) {\n        this.sfx.shipExplosionFonction();\n        this.removeBullet(bulletHit);\n        this.kill();\n      }\n    };\n\n    this.spawn = () => {\n      this.isAlive = true;\n      this.el.style.opacity = 1;\n      this.setX(document.querySelector(\".game_window\").offsetWidth / 2);\n      this.setY(document.querySelector(\".game_window\").offsetHeight - 100);\n    };\n\n    this.kill = () => {\n      this.isAlive = false;\n      setTimeout(() => {\n        this.spawn();\n      }, 3000);\n      this.el.style.opacity = 0;\n    };\n\n    this.el = document.createElement('img');\n    this.el.src = ShipImg;\n    this.el.className = \"ship\";\n    this.setX(document.querySelector(\".game_window\").offsetWidth / 2);\n    this.setY(document.querySelector(\".game_window\").offsetHeight - 100);\n    document.querySelector('.game_window').append(this.el);\n    this.speed = 5;\n    this.canFire = true;\n    this.sfx = new SFX();\n    this.getOverlappingBullet = getOverlappingBullet; //si notre objet se superpose\n\n    this.getOverlappingAliens = getOverlappingAliens;\n    this.removeBullet = removeBullet; //supprimer les tirs si on touvhe un ennemie ou sa sort de l'ecran\n\n    this.isAlive = true;\n  } //##########################  Entity position #########################################\n\n\n}","map":{"version":3,"sources":["C:/Users/Achraf/WebstormProjects/SpaceInvader/react_space_invader/src/Component/Ship/Ship.js"],"names":["ShipImg","SFX","Ship","constructor","getOverlappingBullet","getOverlappingAliens","removeBullet","setX","x","el","style","left","setY","y","top","moveRight","isAlive","speed","moveLeft","fire","creatBullet","canFire","nomDeClassCSS","sfx","fireAudioFonction","setTimeout","shipUpdate","bulletHit","alienHit","isAlien","shipExplosionFonction","kill","spawn","opacity","document","querySelector","offsetWidth","offsetHeight","createElement","src","className","append"],"mappings":"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","sourcesContent":["import ShipImg from '../../Assets/ShipImg/ship.png';\r\nimport {SFX} from \"../SFX\";\r\n\r\n\r\nexport class Ship {\r\n\r\n    constructor({getOverlappingBullet, getOverlappingAliens, removeBullet}) {\r\n        this.el = document.createElement('img')\r\n        this.el.src = ShipImg\r\n        this.el.className = \"ship\"\r\n        this.setX(document.querySelector(\".game_window\").offsetWidth/2);\r\n        this.setY(document.querySelector(\".game_window\").offsetHeight - 100);\r\n        document.querySelector('.game_window').append(this.el);\r\n        this.speed = 5;\r\n        this.canFire = true;\r\n        this.sfx = new SFX();\r\n        this.getOverlappingBullet = getOverlappingBullet; //si notre objet se superpose\r\n        this.getOverlappingAliens = getOverlappingAliens;\r\n        this.removeBullet = removeBullet; //supprimer les tirs si on touvhe un ennemie ou sa sort de l'ecran\r\n        this.isAlive = true\r\n\r\n    }\r\n\r\n    //##########################  Entity position #########################################\r\n    setX = (x) => {\r\n        this.x = x\r\n        this.el.style.left = `${x}px`;\r\n    }\r\n    setY = (y) => {\r\n        this.y = y\r\n        this.el.style.top = `${y}px`\r\n    }\r\n\r\n    //################################### ship Movement ###################################################\r\n\r\n    moveRight = () => {\r\n        if (!this.isAlive) return;\r\n        this.setX(this.x + this.speed);\r\n    }\r\n\r\n    moveLeft = () => {\r\n        if (!this.isAlive) return;\r\n        this.setX(this.x - this.speed);\r\n    }\r\n\r\n    //################################### ship Fire ###################################################\r\n\r\n\r\n    fire = ({creatBullet}) => {\r\n        if (this.canFire && this.isAlive){\r\n            this.canFire = false;\r\n            creatBullet ({\r\n                x: this.x + 43,\r\n                y: this.y,\r\n                nomDeClassCSS: \"bullet\"\r\n            });\r\n\r\n            this.sfx.fireAudioFonction()\r\n\r\n            setTimeout(()=>{\r\n                this.canFire = true;\r\n            },500);\r\n        }\r\n\r\n    }\r\n\r\n    //################################### ship damage ###################################################\r\n\r\n    shipUpdate = () => {\r\n\r\n        const bulletHit = this.getOverlappingBullet(this);\r\n        const alienHit = this.getOverlappingBullet(this);\r\n        if (bulletHit && bulletHit.isAlien && this.isAlive) {\r\n            this.sfx.shipExplosionFonction()\r\n            this.removeBullet(bulletHit)\r\n            this.kill()\r\n        }\r\n    }\r\n\r\n    spawn = () => {\r\n        this.isAlive = true;\r\n        this.el.style.opacity = 1;\r\n        this.setX(document.querySelector(\".game_window\").offsetWidth/2);\r\n        this.setY(document.querySelector(\".game_window\").offsetHeight - 100);\r\n    }\r\n\r\n    kill = () => {\r\n        this.isAlive = false;\r\n\r\n        setTimeout (() => {\r\n            this.spawn()\r\n        }, 3000)\r\n        this.el.style.opacity = 0;\r\n    }\r\n\r\n\r\n\r\n}"]},"metadata":{},"sourceType":"module"}