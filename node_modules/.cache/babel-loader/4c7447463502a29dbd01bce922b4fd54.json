{"ast":null,"code":"import _createClass from\"C:/Users/Achraf/Desktop/SpaceInvader/react_space_invader/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _classCallCheck from\"C:/Users/Achraf/Desktop/SpaceInvader/react_space_invader/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import ShipImg from'../../Assets/ShipImg/ship.png';import{SFX}from\"../SFX\";export var Ship=/*#__PURE__*/_createClass(function Ship(_ref){var _this=this;var getOverlappingBullet=_ref.getOverlappingBullet,removeBullet=_ref.removeBullet;_classCallCheck(this,Ship);this.setX=function(x){_this.x=x;_this.el.style.left=\"\".concat(x,\"px\");};this.setY=function(y){_this.y=y;_this.el.style.top=\"\".concat(y,\"px\");};this.moveRight=function(){if(!_this.isAlive)return;_this.setX(_this.x+_this.speed);};this.moveLeft=function(){if(!_this.isAlive)return;_this.setX(_this.x-_this.speed);};this.fire=function(_ref2){var creatBullet=_ref2.creatBullet;if(_this.canFire&&_this.isAlive){_this.canFire=false;creatBullet({x:_this.x+43,y:_this.y,nomDeClassCSS:\"bullet\"});_this.sfx.fireAudioFonction();setTimeout(function(){_this.canFire=true;},500);}};this.shipUpdate=function(){var bulletHit=_this.getOverlappingBullet(_this);if(bulletHit&&bulletHit.isAlien&&_this.isAlive){_this.sfx.shipExplosionFonction();_this.removeBullet(bulletHit);_this.kill();}};this.spawn=function(){_this.isAlive=true;_this.el.style.opacity=1;_this.setX(document.querySelector(\".game_window\").offsetWidth/2);_this.setY(document.querySelector(\".game_window\").offsetHeight-100);};this.kill=function(){_this.isAlive=false;setTimeout(function(){_this.spawn();},3000);_this.el.style.opacity=0;};this.el=document.createElement('img');this.el.src=ShipImg;this.el.className=\"ship\";this.setX(document.querySelector(\".game_window\").offsetWidth/2);this.setY(document.querySelector(\".game_window\").offsetHeight-100);document.querySelector('.game_window').append(this.el);this.speed=5;this.canFire=true;this.sfx=new SFX();this.getOverlappingBullet=getOverlappingBullet;this.removeBullet=removeBullet;this.isAlive=true;}//##########################  Entity position #########################################\n);","map":{"version":3,"sources":["C:/Users/Achraf/Desktop/SpaceInvader/react_space_invader/src/Component/Ship/Ship.js"],"names":["ShipImg","SFX","Ship","getOverlappingBullet","removeBullet","setX","x","el","style","left","setY","y","top","moveRight","isAlive","speed","moveLeft","fire","creatBullet","canFire","nomDeClassCSS","sfx","fireAudioFonction","setTimeout","shipUpdate","bulletHit","isAlien","shipExplosionFonction","kill","spawn","opacity","document","querySelector","offsetWidth","offsetHeight","createElement","src","className","append"],"mappings":"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","sourcesContent":["import ShipImg from '../../Assets/ShipImg/ship.png';\r\nimport {SFX} from \"../SFX\";\r\n\r\n\r\nexport class Ship {\r\n\r\n    constructor({getOverlappingBullet, removeBullet}) {\r\n        this.el = document.createElement('img')\r\n        this.el.src = ShipImg\r\n        this.el.className = \"ship\"\r\n        this.setX(document.querySelector(\".game_window\").offsetWidth/2);\r\n        this.setY(document.querySelector(\".game_window\").offsetHeight - 100);\r\n        document.querySelector('.game_window').append(this.el);\r\n        this.speed = 5;\r\n        this.canFire = true;\r\n        this.sfx = new SFX();\r\n        this.getOverlappingBullet = getOverlappingBullet;\r\n        this.removeBullet = removeBullet;\r\n        this.isAlive = true\r\n\r\n    }\r\n\r\n    //##########################  Entity position #########################################\r\n    setX = (x) => {\r\n        this.x = x\r\n        this.el.style.left = `${x}px`;\r\n    }\r\n    setY = (y) => {\r\n        this.y = y\r\n        this.el.style.top = `${y}px`\r\n    }\r\n\r\n    //################################### ship Movement ###################################################\r\n\r\n    moveRight = () => {\r\n        if (!this.isAlive) return;\r\n        this.setX(this.x + this.speed);\r\n    }\r\n\r\n    moveLeft = () => {\r\n        if (!this.isAlive) return;\r\n        this.setX(this.x - this.speed);\r\n    }\r\n\r\n    //################################### ship Fire ###################################################\r\n\r\n\r\n    fire = ({creatBullet}) => {\r\n        if (this.canFire && this.isAlive){\r\n            this.canFire = false;\r\n            creatBullet ({\r\n                x: this.x + 43,\r\n                y: this.y,\r\n                nomDeClassCSS: \"bullet\"\r\n            });\r\n\r\n            this.sfx.fireAudioFonction()\r\n\r\n            setTimeout(()=>{\r\n                this.canFire = true;\r\n            },500);\r\n        }\r\n\r\n    }\r\n\r\n    //################################### ship damage ###################################################\r\n\r\n    shipUpdate = () => {\r\n\r\n        const bulletHit = this.getOverlappingBullet(this);\r\n        if (bulletHit && bulletHit.isAlien && this.isAlive) {\r\n            this.sfx.shipExplosionFonction()\r\n            this.removeBullet(bulletHit)\r\n            this.kill()\r\n        }\r\n    }\r\n\r\n    spawn = () => {\r\n        this.isAlive = true;\r\n        this.el.style.opacity = 1;\r\n        this.setX(document.querySelector(\".game_window\").offsetWidth/2);\r\n        this.setY(document.querySelector(\".game_window\").offsetHeight - 100);\r\n    }\r\n\r\n    kill = () => {\r\n        this.isAlive = false;\r\n\r\n        setTimeout (() => {\r\n            this.spawn()\r\n        }, 3000)\r\n        this.el.style.opacity = 0;\r\n    }\r\n\r\n\r\n\r\n}"]},"metadata":{},"sourceType":"module"}